# pynsq_example

В данном репозитории находится пример сервиса-читателя сообщений из nsq. 
Сервис использует библиотеку pynsq. 
Чтобы запустить сервис, необходимо 
- склонировать данный репозиторий
- перейти в папку с репозиторием
- с помощью docker-compose up -d запустить контейнеры, которые используются в данном приложении
  
Сервис принимает сообщения в виде: 
{"user": "user_name", "origin": "origin_address", "destination": "destination_address"}
Они должны быть отправлены на topic `nsq_example` и будут получены в канал `consumer_channel`
Статистику можно посмотреть в админке, которая стартует `http://localhost:4171/` если контейнеры подняты на локальной машине. 
Пример  сообщения, отправленного через curl: 
```
curl -d '{"user": "user_name", "origin": "origin_address", "destination": "destination_address"}' 'http://127.0.0.1:4151/pub?topic=nsq_example'
```
